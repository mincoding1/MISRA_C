## 6 가이드라인 소개
### 6.1 가이드라인 분류
MISRA C 가이드라인은 **규칙(rule)**과 **지침(directive)**으로 나뉩니다. 규칙은 전체적인 설명이 제공되어 소스 코드만으로도 준수 여부를 확인할 수 있습니다. 지침은 추가적인 정보가 필요하며, 도구마다 해석이 다를 수 있습니다. 섹션 7에는 지침, 섹션 8에는 규칙이 포함됩니다.

### 6.2 가이드라인 카테고리
각 가이드라인은 필수(mandatory), 요구(required), **권장(advisory)**로 분류됩니다.

- 필수: 모든 코드가 준수해야 하며 편차가 허용되지 않음.
- 요구: 준수가 필수적이나 편차가 승인될 수 있음.
- 권장: 가능한 한 준수하되, 편차 절차가 요구되지 않음.
  
### 6.3 가이드라인 구성
가이드라인은 C 언어의 다양한 주제로 구성됩니다.

### 6.4 중복성
동일한 언어 기능에 대해 중복적으로 언급되는 경우도 있습니다. 이는 사용자가 특정 기능을 사용할 때 발생할 수 있는 다양한 상황을 대비하기 위함입니다.

### 6.5 규칙의 결정 가능성
규칙은 결정 가능(decidable) 또는 **결정 불가(undecidable)**로 분류됩니다. 결정 가능한 규칙은 정적 분석 도구가 "위반 여부"를 명확히 진단할 수 있는 반면, 결정 불가한 규칙은 런타임 속성에 의존하여 불확실한 결과를 초래할 수 있습니다.

### 6.6 분석 범위
규칙은 단일 번역 단위 또는 시스템 범위로 분류됩니다.

- 단일 번역 단위: 각 번역 단위를 독립적으로 분석 가능.
- 시스템: 전체 소스 코드 분석이 필요.
결정 불가한 규칙은 다른 번역 단위의 정보를 필요로 하므로 시스템 범위에서만 분석이 가능합니다.

모든 결정 불가 규칙은 "시스템" 범위에서 확인해야 합니다. 일반적으로 다른 번역 단위의 동작 정보가 필요하기 때문입니다. 예를 들어, 아래의 함수 g에서 자동 객체 x의 값이 사용되기 전에 설정되었는지 여부(규칙 9.1)는 다른 번역 단위에 정의된 함수 f의 동작에 따라 달라집니다.
```
extern void f ( uint16_t *p );
uint16_t y;
void g ( void )
{
    uint16_t x; /* x는 초기화되지 않음 */
    f ( &x ); /* f는 매개변수로 전달된 객체를 수정할 수 있음 */
    y = x; /* x가 초기화되었을 수도, 초기화되지 않았을 수도 있음 */
}
```
위 예에서 f 함수가 x의 값을 수정할지 알 수 없으므로, x가 설정되었는지 확실하지 않습니다.


### 6.7 다중 조직 프로젝트
프로젝트에는 여러 조직의 코드가 포함될 수 있으며, 예를 들어 표준 라이브러리 코드, 장치 공급업체의 드라이버 코드, OS 및 고레벨 드라이버 코드, 협력 조직의 애플리케이션 코드 등이 있습니다.

표준 라이브러리 코드는 ISO C 표준에 의해 정의된 기능과 인터페이스를 갖기 때문에 MISRA C 준수가 요구되지 않습니다. 그러나 다른 모든 코드는 가능한 한 MISRA C를 준수해야 합니다. 소스 코드가 모두 제공되지 않는 경우, MISRA C 준수 확인을 위해 다음과 같은 대체 방법을 사용할 수 있습니다:

- 공급 업체가 MISRA C 준수 성명서를 제공,
- 조직 간의 공통 절차와 도구 사용 합의,
- 교차 검사에 필요한 스텁 코드 제공.
프로젝트는 타 조직에서 제공된 코드를 다루기 위해 다음 방법 중 하나를 정의해야 합니다:

1. 자체 개발 코드와 동일하게 처리 (소스 코드 필요),
2. 표준 라이브러리와 동일하게 처리 (MISRA C 준수 성명서 필요),
3. 헤더 파일과 인터페이스의 준수 검사 (준수 성명서와 소스 코드 미제공 시 추가 검증 필요).

### 6.8 자동 생성 코드
MISRA C 가이드라인은 자동 생성된 코드에도 적용됩니다. 준수 책임은 코드 생성 도구 개발자와 모델 개발자에게 있습니다. 일부 가이드라인은 자동 생성 코드와 수동 작성 코드에 대해 다른 카테고리를 가질 수 있으며, 수동 코드가 모델에 주입된 경우 수동 작성 코드로 간주합니다. 부록 E는 자동 생성 코드에 대해 적용 카테고리가 다른 가이드라인과 문서화 요구 사항을 명시합니다.

### 6.9 가이드라인의 구성
이 문서의 각 요구사항은 다음 형식으로 제시됩니다:

- Ident: 고유 식별자
- Requirement text: 가이드라인 텍스트
- Source ref: 출처 참조 (섹션 6.10 참조)
- Category: "Mandatory", "Required", "Advisory" 중 하나
- Analysis: Decidability (결정 가능/불가), Scope (시스템/단일 번역 단위)
- Applies to: 적용 가능한 C 언어 버전 (C90, C99)
지침은 결정 가능성과 분석 범위가 없으므로 "Analysis" 항목이 생략됩니다.

각 가이드라인에는 설명과 적용 예시가 제공됩니다. 필요한 경우 Amplification(추가 설명)이 있어 복잡한 개념을 명확히 하며, Exception(예외)은 규칙이 적용되지 않는 상황을 설명합니다. 예외로 준수되는 코드는 편차가 필요하지 않습니다.

가이드라인과 지원 텍스트에서는 다음 스타일이 사용됩니다:

- C 키워드와 용어집 정의 항목: 이탤릭체
- C 코드: 고정 폭 폰트
코드 조각에서는 typedef 타입이 사용됩니다 (예: uint8_t, int32_t, float32_t)

코드 조각에서는 다음과 같은 typedef된 타입이 사용된 것으로 가정합니다 (Dir 4.6을 준수하기 위해):

- uint8_t /* 8비트 부호 없는 정수 */
- uint16_t /* 16비트 부호 없는 정수 */
- uint32_t /* 32비트 부호 없는 정수 */
- int8_t /* 8비트 부호 있는 정수 */
- int16_t /* 16비트 부호 있는 정수 */
- int32_t /* 32비트 부호 있는 정수 */
- float32_t /* 32비트 부동소수점 */
- float64_t /* 64비트 부동소수점 */
특정하지 않은 객체 이름은 타입을 나타내도록 구성됩니다. 예를 들어:

- uint8_t u8a; /* 8비트 부호 없는 정수 */
- int16_t s16b; /* 16비트 부호 있는 정수 */
- int32_t s32c; /* 32비트 부호 있는 정수 */
- bool_t bla; /* 본질적으로 Boolean */
- enum atag ena; /* 열거형 타입 */
- char chb; /* 문자 */
- float32_t f32a; /* 32비트 부동소수점 */
- float64_t f64b; /* 64비트 부동소수점 */

### 6.10 출처 참조 이해
가이드라인이 특정 출판물에서 유래한 경우, 해당 출처가 가이드라인 뒤의 대괄호에 표시됩니다. 이는 독자가 가이드라인의 근거를 깊이 이해하거나 편차 요청을 검토할 때 유용합니다. 출처가 없는 규칙은 기여 회사의 사내 표준, 검토자의 제안, 또는 일반적으로 받아들여지는 모범 사례일 수 있습니다.

### 6.10.1 ISO C 이식성 문제 참조
ISO C 이식성 문제는 관련 표준의 부록 하위 섹션에 설명되어 있으며, 참조 번호는 원본 표준(C90과 C99)에서 유래했습니다. 이는 MISRA C:2004의 관례를 따른 것이며, 기술 정정이 통합된 공식 C99 표준 개정판이 없기 때문입니다.

표준의 Annex G (C90)와 Annex J (C99)에 기반한 참조는 MISRA C 가이드라인의 근거로 사용됩니다. 표기 형식은 참조 구절 번호와 항목 번호로 되어 있으며, 예를 들어 [Locale 2]는 Annex G의 G.4 섹션 두 번째 항목을 의미합니다. 참조 종류별 설명은 다음과 같습니다:
![image](https://github.com/user-attachments/assets/4ad3c52b-564f-49af-82c2-6bcf363cb9b5)

- Unspecified: 컴파일은 성공해야 하지만 동작이 정의되지 않은 경우. 예: 평가 순서.
- Undefined: 프로그래밍 오류이지만, 컴파일러가 오류 메시지를 제공할 의무가 없는 경우. 예: 잘못된 함수 매개변수.
- Implementation-defined: 컴파일러마다 다른 동작이지만 일관성을 유지하고 문서화해야 하는 경우. 예: 양수와 음수의 나눗셈 연산.
- Locale: 국제 요구에 따라 달라질 수 있는 경우로, 이 문서에서는 다루지 않습니다. 예: 소수점을 “,”로 표현.
추가 정보는 Hatton의 문헌에서 얻을 수 있습니다.


ISO C 이식성 문제 외의 참조는 다음 출처에서 가져옵니다:

- MISRA Guidelines: MISRA 가이드라인 [15]
- Koenig: "C Traps and Pitfalls", Koenig [31]
- IEC 61508: IEC 61508:2010 [32]
- ISO 26262: ISO 26262:2011 [23]
- DO-178C: DO-178C [24]
별도의 언급이 없으면, 참조 뒤의 텍스트는 관련 페이지 번호를 나타냅니다.
